# Merge_Idle_Game

## 게임 개요

- 머지 + 스테이지형 디펜스

## 게임 방식 & 플레이

- 2개의 같은 무기를 합쳐 다음 단계의 무기가 생성됨
- 무기를 끼고 스테이지에 진입해 상단에서 플레이어를 향해 몰려오는 적을 막는 디펜스형 게임
- 공격방식은 플레이어가 장착한 무기를 적을 향해 던짐
- 스테이지 진행도에 따라 방치 시 획득할 수 있는 재화가 늘어남

## 시스템 & 콘텐츠

- 무기를 생성할 수 있는 버튼이 있고 (ex. 현재 생성할 수 있는 무기 수/무기제작가능 최대치)
    - 일정 시간이 지나면 현재 생성할 수 있는 무기의 수가 오른다
- 자동정렬 기능이 있다 (내림차순 순으로 정렬된다)
- 골드 라는 재화가 있다
    - 재화를 소모해 어빌리티를 올릴 수 있다
        - 공격력, 생산속도증가, 제작가능 최대치, 보유가능한 무기 수 등..
- 게임 종료시 보유하고 있는 무기, 장착한 무기, 골드, 어빌리티 레벨, 스테이지 진행도를 저장한다
- 무기를 드래그 앤 드랍으로 합칠 수 있다
    - 합칠 수 있는 무기를 제외하고 반투명 상태가 된다
- 클리어한 스테이지는 다시 플레이 할 수 없다
- 어빌리티의 수치는 파싱을 통해 받아온다

## 시스템 별 구현 방식 서술

- 오브젝트풀링
    - 내가 장착한 무기를 오브젝트풀에 담고 던짐 몬스터에 맞거나 화면 밖을 벗어나면 회수
    - 몬스터를 오브젝트풀에 담고 몬스터가 죽으면 회수
- 소트
    - 내림차순 정렬을 해야하고 퀵 정렬 구현
        - 유저가 장착한 무기의 레벨 ~ 생성할 수 있는 무기의 레벨의 평균값을 구해 반올림 후 퀵 정렬의 첫 기준으로 삼아 동작
- 저장
    - PlayerPrefs 를 사용해 게임종료 이벤트가 불러와 질 때 필요한 데이터를 로컬에 저장한다
- 머지
    - 드래그 앤 드랍 때 같은 레이어..? 를 가지고 있는 무기끼리 만나게 되면 다음 레벨로 합쳐지게 되며 다른 레이어 라면 위치가 재배치 된다
- 생성
    - 무기 생성을 하면 무기가 있을 수 있는 필드 내의 랜덤한 좌표값을 받아와 무기가 배치된다
- 파싱
    - json 파싱을 통해 받아오며 어빌리티에 있는 능력치들을 받아온다

## 개발환경

- Unity
    - 1인
- 기간
    - 23.01.21 ~ 23.01.26